<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유효성검사하기</title>
</head>

<body>
    <h1>유효성검사</h1>
    <form action="">
        아이디 <input type="text" name="userId" id="userId">
        패스워드 <input type="password" name="password" id="password">
        패스워드확인 <input type="password" name="password" id="password">
        회원이름 <input type="text" name="name" id="userName">
        <input type="submit" value="회원가입" onclick="return validate();">
    </form>
    <script>
        function validate() {
            //아이디 첫글자는 영소문자 4~12자 사이로 만들어짐
            //아이디에는 반드시 한개이상의 숫자가 포함되고, 영문(대/소),숫자로만 작성
            // let regId=/^[a-z][a-zA-Z0-9]{3,11}/;
            let id = document.getElementById("userId");
            // if(!regId.test(id.value)){
            //     alert("아이디의 첫글자를 소문자, 4~12글자 이내로 작성해주세요!");
            //     return false;
            // }
            // regId=/[0-9]/g;
            // if(regId.test(id.value)){
            //     alert("아이디에 숫자를 포함해야합니다.");
            //     return false;
            // }

            //한줄로 정규표현식 작성하기
            //전방탐색
            let regId = /^[a-z](?=.*[\d])[a-z\dA-Z]{3,11}/;
            if (!regId.test(id.value)) {
                alert("아이디는 소문자로 시작하고 4~12글자로 입력하고 숫자를 반드시 포함해야합니다.");
                return false;
            }
            //비밀번호 8~15글자로 작성하고 숫자, 문자 특수기호 포함
            let pw = document.getElementById("password");
            let regPw = /^.*(?=^.{8,15}$)(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&*()]).*$/
            if (!regPw.test(pw.value)) {
                alert("비밀번호 8~15글자로 작성하고 숫자, 문자, 특수기호 포함해야함");
                return false;
            }


            //이름은 한글로 2글자이상 작성
            let name =  document.getElementById("userName");
            let regName = /^[가-힣]{2,4}|[a-zA-Z]{2,10}\s[a-zA-Z]{2,10}$/;
            if (!regName.test(name.value)) {
                alert("한글은 2 ~ 4글자(공백 없음) , 영문은 Firstname(2 ~ 10글자) (space) Lastname(2 ~10글자)로 입력해 주세요.");
                return false;
            }
        }
    </script>
</body>

</html>